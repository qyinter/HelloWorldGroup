<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    	<base href="<%=basePath%>"/>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>料理の内容変更</title>
        <link href="./css/bootstrap.min.css" rel="stylesheet">
        <script src="./js/jquery-2.1.0.min.js"></script>
        <script src="./js/bootstrap.min.js"></script>
        <script src="./js/getParameter.js"></script>
        <script>
            $(function () {
                let rid = getParameter("rid")
                $.get("food/findByRid",{rid:rid},function (data) {

                    $("#food_name").val(data.food_name)
                    $("#food_details").val(data.food_details)
                    $("#food_address").val(data.food_address)
                    $("#small_imgs").val(data.small_imgs)
                    $("#big_imgs").val(data.big_imgs)
                    $("#making_method").val(data.making_method)
                    $("#food_material").val(data.food_material)
                    $("#cid").val(data.cid)
                    $("#time").val(data.time)
                    $("#energy").val(data.energy)
                    $("#media").val(data.media)
                    $("#hidden").val(data.rid)

                    $("#btn").click(function () {
                        if (confirm("本当に更新しますか？")){
                            let food_name = $("#food_name").val()
                            let food_details = $("#food_details").val()
                            let food_address = $("#food_address").val()
                            let small_imgs = $("#small_imgs").val()
                            let big_imgs = $("#big_imgs").val()
                            let making_method = $("#making_method").val()
                            let food_material = $("#food_material").val()
                            let cid = $("#cid").val()
                            let time = $("#time").val()
                            let energy = $("#energy").val()
                            let media = $("#media").val()
                            let rid = $("#hidden").val()
                            $.post("food/updateFood",{food_name:food_name,food_details:food_details,food_address:food_address,small_imgs:small_imgs,big_imgs:big_imgs,making_method:making_method,food_material:food_material,cid:cid,time:time,energy:energy,media:media,rid:rid},function () {
                                window.location.href = 'list.html';
                            })
                        }

                    })
                    $("#zhongzhi").click(function () {
                        $("#food_name").val(data.food_name)
                        $("#food_details").val(data.food_details)
                        $("#food_address").val(data.food_address)
                        $("#small_imgs").val(data.small_imgs)
                        $("#big_imgs").val(data.big_imgs)
                        $("#making_method").val(data.making_method)
                        $("#food_material").val(data.food_material)
                        $("#cid").val(data.cid)
                        $("#time").val(data.time)
                        $("#energy").val(data.energy)
                        $("#media").val(data.media)
                        $("#hidden").val(data.rid)
                    })

                    $("#fanhui").click(function () {
                        window.location.href = 'list.html';
                    })
                })

            })
        </script>
    </head>
    <body>
        <div class="container" >
        <h3 style="text-align: center;">料理の変更</h3>
            <input type="hidden" id="hidden">
          <div class="form-group">
            <label for="food_name">料理の名前：</label>
            <input type="text" class="form-control" id="food_name" name="name"  readonly="readonly" placeholder="请输入姓名" />
          </div>

            <div class="form-group">
                <label for="food_details">料理の詳し説明：</label>
                <textarea class="form-control" id="food_details" cols="40" rows="5" placeholder="料理の詳し説明："></textarea>
            </div>

            <div class="form-group">
                <label for="food_address">料理のところ：</label>
                <input type="text" class="form-control" id="food_address" placeholder="料理のところ入れてください。">
            </div>
            <div class="form-group">
                <label for="small_imgs">料理の小さい写真：</label>
                <input type="text" class="form-control" id="small_imgs" placeholder="小さい写真入れてください。">
            </div>
            <div class="form-group">
                <label for="big_imgs">料理の大さい写真：</label>
                <input type="text" class="form-control" id="big_imgs" placeholder="大さい写真入れてください。">
            </div>
            <div class="form-group">
                <label for="making_method">作る方法：</label>
                <textarea class="form-control" id="making_method" cols="40" rows="5" placeholder="作る方法入れてください。"></textarea>
            </div>
            <div class="form-group">
                <label for="food_material">料理の材料：</label>
                <textarea class="form-control" id="food_material" cols="40" rows="5" placeholder="料理の材料入れてください。"></textarea>
            </div>
            <div class="form-group">
                <label for="cid">料理の国番号入れて：</label>
                <input type="text" class="form-control" id="cid" placeholder="国番号入れてください。">
            </div>
            <div class="form-group">
                <label for="time">調理の時間：</label>
                <input type="text" class="form-control" id="time" placeholder="調理の時間入れてください。">
            </div>

            <div class="form-group">
                <label for="energy">カロリー：</label>
                <input type="text" class="form-control" id="energy" placeholder="カロリー入れてください。">
            </div>

            <div class="form-group">
                <label for="media">作りvideo　：</label>
                <input type="text" class="form-control" id="media" placeholder="作りvideo入れてください。">
            </div>

             <div class="form-group" style="text-align: center">
                 <button class="btn btn-primary" id="btn">出す</button>
                <input class="btn btn-default" type="reset" id="zhongzhi" value="内容最初化" />
                <input class="btn btn-default" type="button" id="fanhui" value="戻す"/>
             </div>
        </div>
    </body>
</html>